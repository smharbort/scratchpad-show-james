# Wanted your take on a function restructuring objects by unique values of a nested key

### So I came up with this function as a part of the Intro to JS project I just finished for class, using the simple dataset given as one of the components to the project. I-- utterly sleep deprived from the amount of time I'd been putting into this project over the course of 2 days-- somehow managed to come up with this function to restructure objects in an array by unique values of a given key nested within.

### While iterating, if it comes across a new value to a given key, it pushes that value to an array, then uses .indexOf as the fulcrum of an if/else statement. If it is the first instance of that value, it pushes each of the remaining relevant key-values to a new formatted object in the form of key: [arrayOfThing], then pushes that object to an array; if not first instance, it instead looks in the new array of objects using Array[indexOfConst] and pushes those values to the object that contains the correct value for the main key you want to restructure by.

### What I am very interested to hear from you is if there are more efficient ways to do that same thing. I can definitely see how-- and also, because this kind of function is quite similar to what I was working with, with MerchyMe-- can see how this type of function could be quite useful down the line. I am getting a ton of good instruction with this course, but my instructors simply don't have the time to give detailed feedback on all the code we write, and I'm eternally interested in learning best practices/methods to approach coding challenges, even more so if they're likely to be reproduced in a work environment.

#### I'm going to refactor this so I can pass a desired key as a parameter to the function instead of hard-coding the one I want, but as for the method of doing, I have just a general inclination there's gotta be plenty of ways to go about doing this, and maybe there's one that's better. This just happens to be the first thing I came up with to do the thing I needed the code to do. ALSO, in the project I played around with something I'd seen you do for MerchyMe, using try/catches to append errors to an in-function error log, cause that seems cool and good. So thank you for that tidbit too.